ometa L {
  number   = digit+,
  addExpr  = addExpr '+' mulExpr
           | addExpr '-' mulExpr
           | mulExpr,
  mulExpr  = mulExpr '*' primExpr
           | mulExpr '/' primExpr
           | primExpr,
  primExpr = '(' expr ')'
           | number,
  expr     = addExpr
}

(ometa (<: L Parent)
       (== number       (+ (^ digit)))

       (== addExpr      (and addExpr "+" mulExpr)
                        (and addExpr "-" mulExpr)
                        (and mulExpr))

       (== mulExpr      (and mulExpr "*" primExpr)
                        (and mulExpr "/" primExpr)
                        (and primExpr))
                        
       (== primExpr     (and "(" expr ")")
                        (and number))

       (== expr         (and addExpr)))
                        